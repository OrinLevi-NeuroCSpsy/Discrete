# יחידה 6: יחסי שקילות וחלוקות

## יחסי שקילות

### הגדרה

!!! info "הגדרה: יחס שקילות"
    יחס $E$ על $A$ נקרא **יחס שקילות** (equivalence relation) אם הוא:

    1. **רפלקסיבי**: $\forall x \in A. \; xEx$
    2. **סימטרי**: $xEy \Rightarrow yEx$
    3. **טרנזיטיבי**: $(xEy \land yEz) \Rightarrow xEz$

!!! example "דוגמאות ליחסי שקילות"
    1. **שוויון** $=$ על כל קבוצה

    2. **דמיון משולשים** על קבוצת המשולשים

    3. **חפיפת משולשים** על קבוצת המשולשים

    4. **שקילות מודולו n**:
       $$a \equiv b \pmod{n} \iff n \mid (a - b)$$

       לדוגמה: $5 \equiv 11 \pmod{2}$ כי $2 \mid (11 - 5) = 6$

    5. **יחס "באותו צבע"** על קבוצת כדורים צבעוניים

---

## מחלקות שקילות

### הגדרה

!!! info "הגדרה: מחלקת שקילות"
    יהי $E$ יחס שקילות על $A$. עבור $x \in A$, **מחלקת השקילות** של $x$ לפי $E$ היא:

    $$[x]_E = \{y \in A \mid xEy\}$$

    כלומר, קבוצת כל האיברים השקולים ל-$x$.

!!! note "סימונים נפוצים"
    - $[x]_E$ או $[x]$ (כשהיחס ברור מההקשר)
    - $\overline{x}$
    - $x/E$

### תכונות מחלקות שקילות

!!! abstract "טענה: תכונות מחלקות שקילות"
    יהי $E$ יחס שקילות על $A$. לכל $x, y \in A$:

    1. **כל איבר שייך למחלקה שלו**: $x \in [x]_E$ (מרפלקסיביות)

    2. **שקילות היא שייכות למחלקה**: $y \in [x]_E \iff xEy$

    3. **סימטריות**: $y \in [x]_E \iff x \in [y]_E$

    4. **מחלקות שוות או זרות**:
       $$[x]_E \cap [y]_E \neq \emptyset \iff [x]_E = [y]_E \iff xEy$$

!!! example "דוגמה: מחלקות מודולו 3"
    יחס השקילות מודולו 3 על $\mathbb{Z}$:

    - $[0]_{\equiv_3} = \{\ldots, -6, -3, 0, 3, 6, 9, \ldots\} = 3\mathbb{Z}$
    - $[1]_{\equiv_3} = \{\ldots, -5, -2, 1, 4, 7, 10, \ldots\} = 3\mathbb{Z} + 1$
    - $[2]_{\equiv_3} = \{\ldots, -4, -1, 2, 5, 8, 11, \ldots\} = 3\mathbb{Z} + 2$

    שלוש מחלקות זרות שמכסות את כל $\mathbb{Z}$.

---

## קבוצת מנה

### הגדרה

!!! info "הגדרה: קבוצת מנה"
    יהי $E$ יחס שקילות על $A$. **קבוצת המנה** (quotient set) של $A$ לפי $E$ היא:

    $$A/E = \{[x]_E \mid x \in A\}$$

    כלומר, קבוצת כל מחלקות השקילות.

!!! example "דוגמאות"
    1. $\mathbb{Z}/\equiv_2 = \{[0], [1]\}$ - שתי מחלקות (זוגיים ואי-זוגיים)

    2. $\mathbb{Z}/\equiv_3 = \{[0], [1], [2]\}$ - שלוש מחלקות

    3. $\mathbb{R}/\equiv$ כאשר $x \equiv y \iff |x| = |y|$:
       קבוצת המנה היא למעשה $\mathbb{R}_{\geq 0}$

---

## פירוק (חלוקה)

### הגדרה

!!! info "הגדרה: פירוק של קבוצה"
    **פירוק** (partition) של קבוצה $A$ הוא קבוצה $F$ של תתי-קבוצות של $A$ המקיימת:

    1. **לא ריקות**: $\forall X \in F. X \neq \emptyset$
    2. **כיסוי**: $\bigcup F = A$
    3. **זרות הדדית**: $\forall X, Y \in F. X \neq Y \Rightarrow X \cap Y = \emptyset$

!!! example "דוגמאות"
    1. $\{\{1, 3, 5\}, \{2, 4, 7, 8\}, \{6\}\}$ הוא פירוק של $\{1, 2, 3, 4, 5, 6, 7, 8\}$

    2. $\{\mathbb{Z}^-, \{0\}, \mathbb{Z}^+\}$ הוא פירוק של $\mathbb{Z}$

### הקשר בין יחסי שקילות לפירוקים

!!! abstract "משפט: קבוצת מנה היא פירוק"
    יהי $E$ יחס שקילות על $A$. אז $A/E$ הוא פירוק של $A$.

    **הוכחה (רעיון)**:

    1. **לא ריקות**: לכל $x \in A$, $x \in [x]_E$ (מרפלקסיביות), לכן $[x]_E \neq \emptyset$

    2. **כיסוי**: לכל $x \in A$, $x \in [x]_E \in A/E$, לכן $\bigcup A/E = A$

    3. **זרות**: מחלקות שונות זרות (הוכחנו קודם)

!!! abstract "משפט: ההתאמה בין יחסי שקילות לפירוקים"
    קיימת **התאמה חח"ע ועל** בין יחסי השקילות על $A$ לבין הפירוקים של $A$:

    - **מיחס לפירוק**: $E \mapsto A/E$
    - **מפירוק ליחס**: $F \mapsto E_F$ כאשר $xE_Fy \iff$ קיים $X \in F$ כך ש-$x, y \in X$

---

## אי-תלות בנציג

### הבעיה

!!! warning "בעיית הנציג"
    כשמגדירים פעולה או פונקציה על קבוצת המנה, לעתים ההגדרה תלויה בבחירת **נציג** מכל מחלקה.

    צריך להוכיח שהתוצאה **לא תלויה בבחירת הנציג**.

### דוגמה: חיבור מודולרי

!!! example "דוגמה: חיבור על $\mathbb{Z}_n$"
    נגדיר חיבור על $\mathbb{Z}/\equiv_n$:
    $$[a] + [b] = [a + b]$$

    **צריך להוכיח**: אם $[a] = [a']$ ו-$[b] = [b']$, אז $[a + b] = [a' + b']$.

    **הוכחה**:

    - $[a] = [a']$ $\Rightarrow$ $n \mid (a - a')$
    - $[b] = [b']$ $\Rightarrow$ $n \mid (b - b')$
    - לכן $n \mid ((a + b) - (a' + b')) = (a - a') + (b - b')$
    - לכן $[a + b] = [a' + b']$ ✓

!!! success "מבנה הוכחת אי-תלות בנציג"
    1. נניח $[a] = [a']$ ו-$[b] = [b']$
    2. נתרגם להגדרת היחס: $aEa'$ ו-$bEb'$
    3. נראה ש-$(a \star b) E (a' \star b')$
    4. נסיק $[a \star b] = [a' \star b']$

---

## הפונקציה הקנונית

!!! info "הגדרה: הפונקציה הקנונית"
    יהי $E$ יחס שקילות על $A$. **הפונקציה הקנונית** (או פונקציית המנה) היא:
    $$\pi: A \to A/E, \quad \pi(x) = [x]_E$$

!!! abstract "תכונות הפונקציה הקנונית"
    1. $\pi$ היא **על** (surjective)
    2. $\pi(x) = \pi(y) \iff xEy$
    3. $\text{Im}(\pi) = A/E$

---

## טבלת סיכום

| מושג | הגדרה | דוגמה |
|------|-------|-------|
| **יחס שקילות** | רפלקסיבי + סימטרי + טרנזיטיבי | $\equiv_n$, $=$ |
| **מחלקת שקילות** | $[x]_E = \{y \mid xEy\}$ | $[0]_{\equiv_3} = 3\mathbb{Z}$ |
| **קבוצת מנה** | $A/E = \{[x]_E \mid x \in A\}$ | $\mathbb{Z}/\equiv_3$ |
| **פירוק** | קבוצות זרות שמכסות את $A$ | $\{[0], [1], [2]\}$ |

---

## טעויות נפוצות

!!! warning "טעות 1: בלבול בין מחלקה לאיבר"
    - $[a]$ היא **קבוצה** (מחלקת השקילות)
    - $a$ הוא **איבר** (נציג של המחלקה)

!!! warning "טעות 2: הנחה שכל נציג שקול"
    כאשר מוכיחים אי-תלות בנציג, צריך להוכיח עבור **כל** שני נציגים של אותה מחלקה, לא רק עבור נציגים ספציפיים.

!!! warning "טעות 3: שכחת לבדוק את שלושת התנאים"
    יחס שקילות חייב לקיים את **שלושת** התנאים: רפלקסיביות, סימטריה, טרנזיטיביות.

---

## מקורות

!!! note "מקורות היחידה"
    - ספר הקורס (פרופ' אברון): פרק יחסי שקילות
    - תרגולים 8-9 - יחסי שקילות, חלוקות, אי-תלות בנציג
