# יחידה 5: פונקציות

## מושגי יסוד

### מהי פונקציה?

!!! info "הגדרה: פונקציה"
    **פונקציה** $f$ מקבוצה $A$ לקבוצה $B$, מסומנת $f: A \to B$, היא יחס $f \subseteq A \times B$ המקיים:

    1. **מלאות**: לכל $a \in A$ קיים $b \in B$ כך ש-$\langle a, b \rangle \in f$
    2. **חד-ערכיות**: אם $\langle a, b_1 \rangle \in f$ וגם $\langle a, b_2 \rangle \in f$, אז $b_1 = b_2$

    בקיצור: לכל איבר ב-$A$ מתאימה בדיוק תמונה אחת ב-$B$.

    $$\forall a \in A. \exists! b \in B. \langle a, b \rangle \in f$$

!!! note "סימונים"
    - $f(a) = b$ או $f: a \mapsto b$ - הפונקציה $f$ מעתיקה את $a$ ל-$b$
    - $A \to B$ - קבוצת כל הפונקציות מ-$A$ ל-$B$

### תחום, טווח ותמונה

!!! info "הגדרות: תחום, טווח ותמונה"
    עבור פונקציה $f: A \to B$:

    - **התחום** (Domain): $\text{Dom}(f) = A$
    - **הטווח** (Codomain): $B$ - הקבוצה אליה הפונקציה מעתיקה
    - **התמונה** (Image/Range): $\text{Im}(f) = \{f(x) \mid x \in A\} = \{y \in B \mid \exists x \in A. f(x) = y\}$

!!! warning "הבחנה חשובה"
    - **הטווח** $B$ הוא הקבוצה אליה הפונקציה *יכולה* להעתיק
    - **התמונה** $\text{Im}(f)$ היא קבוצת הערכים שהפונקציה *באמת* מקבלת

    תמיד מתקיים: $\text{Im}(f) \subseteq B$

!!! example "דוגמה"
    עבור $f: \mathbb{R} \to \mathbb{R}$ המוגדרת $f(x) = x^2$:

    - $\text{Dom}(f) = \mathbb{R}$
    - הטווח הוא $\mathbb{R}$
    - $\text{Im}(f) = [0, \infty) = \{y \in \mathbb{R} \mid y \geq 0\}$

### שוויון פונקציות

!!! abstract "עיקרון האקסטנציונליות לפונקציות"
    שתי פונקציות $f$ ו-$g$ **שוות** אם ורק אם:

    $$f = g \iff \text{Dom}(f) = \text{Dom}(g) \land \forall x \in \text{Dom}(f). f(x) = g(x)$$

    כלומר, יש להן אותו תחום, והן מחזירות אותם ערכים לכל קלט.

---

## סימון למבדא

### הגדרה

!!! info "סימון למבדא"
    **סימון למבדא** (Lambda notation) מאפשר להגדיר פונקציה בצורה קומפקטית:

    $$\lambda x \in A. t(x)$$

    מתאר את הפונקציה מ-$A$ שמתאימה לכל $x$ את הערך $t(x)$.

!!! example "דוגמאות"
    - $\lambda x \in \mathbb{R}. x^2$ - הפונקציה שמעלה כל מספר ממשי בריבוע
    - $\lambda n \in \mathbb{N}. 2n + 1$ - הפונקציה שמתאימה לכל מספר טבעי את המספר האי-זוגי המתאים
    - $\lambda x \in \mathbb{R}. \lambda y \in \mathbb{R}. x + y$ - פונקציה של שני משתנים

### כללי תחשיב למבדא

!!! info "כלל $\alpha$ (החלפת משתנה)"
    ניתן להחליף את שם המשתנה הקשור:

    $$\lambda x \in A. t = \lambda y \in A. t[y/x]$$

    בתנאי ש-$y$ לא מופיע חופשי ב-$t$.

!!! info "כלל $\beta$ (הצבה)"
    אם $s$ חופשי להצבה במקום $x$ ב-$t$:

    $$(\lambda x \in A. t)(s) = t[s/x]$$

    זהו כלל "החישוב" - הצבת ארגומנט בפונקציה.

!!! info "כלל $\eta$ (אקסטנציונליות)"
    $$\lambda x \in \text{Dom}(f). f(x) = f$$

!!! example "דוגמה לשימוש בכללים"
    $$(\lambda x \in \mathbb{R}. x^2)(3) = 3^2 = 9$$

    $$(\lambda x \in \mathbb{R}. x + 1) \circ (\lambda x \in \mathbb{R}. x^2) = \lambda x \in \mathbb{R}. x^2 + 1$$

---

## תמונה ומקור של קבוצות

### תמונה של קבוצה

!!! info "הגדרה: תמונה של קבוצה"
    תהי $f: A \to B$ ו-$X \subseteq A$. **התמונה של $X$ תחת $f$** היא:

    $$f[X] = \{f(x) \mid x \in X\} = \{y \in B \mid \exists x \in X. f(x) = y\}$$

!!! note "הערה"
    $\text{Im}(f) = f[A] = f[\text{Dom}(f)]$

!!! example "דוגמה"
    עבור $f(x) = x^2$ על $\mathbb{R}$:

    - $f[(-\infty, 3)] = [0, 9]$
    - $f[\{-2, -1, 0, 1, 2\}] = \{0, 1, 4\}$

### מקור של קבוצה

!!! info "הגדרה: מקור של קבוצה"
    תהי $f: A \to B$ ו-$Y \subseteq B$. **המקור של $Y$ לפי $f$** הוא:

    $$f^{-1}[Y] = \{x \in A \mid f(x) \in Y\}$$

!!! example "דוגמה"
    עבור $f(x) = x^2$ על $\mathbb{R}$:

    - $f^{-1}[\{9\}] = \{-3, 3\}$
    - $f^{-1}[[0, 1]] = [-1, 1]$
    - $f^{-1}[\{-1\}] = \emptyset$ (אין מספר ממשי שריבועו שלילי)

!!! abstract "תכונות"
    לכל $f: A \to B$ ו-$X \subseteq A$, $Y \subseteq B$:

    1. $X \subseteq f^{-1}[f[X]]$
    2. $f[f^{-1}[Y]] \subseteq Y$

---

## הרכבת פונקציות

### הגדרה

!!! info "הגדרה: הרכבת פונקציות"
    תהיינה $f: A \to B$ ו-$g: B \to C$. **ההרכבה** $g \circ f$ היא פונקציה מ-$A$ ל-$C$ המוגדרת:

    $$(g \circ f)(x) = g(f(x))$$

    או בסימון למבדא:

    $$g \circ f = \lambda x \in A. g(f(x))$$

!!! warning "סדר ההרכבה"
    ב-$g \circ f$:

    - **קודם** מפעילים את $f$
    - **אחר כך** מפעילים את $g$

    זה הפוך מסדר הכתיבה!

!!! example "דוגמה"
    $f(x) = x^2$, $g(x) = x + 1$ על $\mathbb{R}$:

    - $(g \circ f)(x) = g(f(x)) = g(x^2) = x^2 + 1$
    - $(f \circ g)(x) = f(g(x)) = f(x+1) = (x+1)^2$

    שימו לב: $g \circ f \neq f \circ g$

### תכונות ההרכבה

!!! abstract "משפט: תכונות הרכבת פונקציות"
    1. **אסוציאטיביות**: $(h \circ g) \circ f = h \circ (g \circ f)$

    2. **פונקציית הזהות**: $f \circ i_A = f = i_B \circ f$ עבור $f: A \to B$

       כאשר $i_A = \lambda x \in A. x$ היא פונקציית הזהות.

    3. **אי-קומוטטיביות**: בדרך כלל $f \circ g \neq g \circ f$

!!! info "הגדרה: חזקות של פונקציה"
    עבור $f: A \to A$:

    - $f^0 = i_A$
    - $f^1 = f$
    - $f^{n+1} = f \circ f^n$

    מתקיים: $f^m \circ f^n = f^{m+n}$

---

## סוגי פונקציות מיוחדים

### פונקציה חד-חד-ערכית (חח"ע)

!!! info "הגדרה: פונקציה חח\"ע"
    פונקציה $f: A \to B$ נקראת **חד-חד-ערכית** (injective, one-to-one) אם:

    $$\forall x_1, x_2 \in A. f(x_1) = f(x_2) \Rightarrow x_1 = x_2$$

    או באופן שקול:

    $$\forall x_1, x_2 \in A. x_1 \neq x_2 \Rightarrow f(x_1) \neq f(x_2)$$

    כלומר, לאיברים שונים יש תמונות שונות.

!!! example "דוגמאות"
    - $f(x) = 2x + 3$ על $\mathbb{R}$ - **חח"ע** (פונקציה לינארית)
    - $f(x) = x^2$ על $\mathbb{R}$ - **לא חח"ע** (כי $f(2) = f(-2) = 4$)
    - $f(x) = x^2$ על $\mathbb{R}^+$ (המספרים החיוביים) - **חח"ע**

### פונקציה על (סורייקטיבית)

!!! info "הגדרה: פונקציה על"
    פונקציה $f: A \to B$ נקראת **על** (surjective, onto) אם:

    $$\forall y \in B. \exists x \in A. f(x) = y$$

    או באופן שקול: $\text{Im}(f) = B$

    כלומר, כל איבר בטווח מתקבל.

!!! example "דוגמאות"
    - $f(x) = 2x + 3$ מ-$\mathbb{R}$ ל-$\mathbb{R}$ - **על**
    - $f(x) = x^2$ מ-$\mathbb{R}$ ל-$\mathbb{R}$ - **לא על** (מספרים שליליים לא מתקבלים)
    - $f(x) = x^2$ מ-$\mathbb{R}$ ל-$[0, \infty)$ - **על**

### פונקציית שקילות (ביאקציה)

!!! info "הגדרה: פונקציית שקילות"
    פונקציה $f: A \to B$ נקראת **פונקציית שקילות** או **ביאקציה** (bijection) אם היא גם **חח"ע** וגם **על**.

    במקרה זה, לכל $y \in B$ יש בדיוק מקור אחד ב-$A$.

!!! example "דוגמאות"
    - $f(x) = 2x + 3$ מ-$\mathbb{R}$ ל-$\mathbb{R}$ - **ביאקציה**
    - $f(x) = e^x$ מ-$\mathbb{R}$ ל-$(0, \infty)$ - **ביאקציה**
    - $i_A: A \to A$ - **ביאקציה** (פונקציית הזהות)

---

## פונקציה הפוכה

### הגדרה

!!! info "הגדרה: פונקציה הפוכה"
    תהי $f: A \to B$ ביאקציה. **הפונקציה ההפוכה** $f^{-1}: B \to A$ מוגדרת:

    $$f^{-1}(y) = x \iff f(x) = y$$

    או בסימון למבדא:

    $$f^{-1} = \lambda y \in B. \iota x \in A. f(x) = y$$

!!! warning "שימו לב"
    פונקציה הפוכה $f^{-1}$ קיימת **אם ורק אם** $f$ היא ביאקציה.

    - אם $f$ לא חח"ע: יש $y$ עם כמה מקורות - מי יהיה $f^{-1}(y)$?
    - אם $f$ לא על: יש $y$ בלי מקור - מה יהיה $f^{-1}(y)$?

### תכונות

!!! abstract "משפט: תכונות הפונקציה ההפוכה"
    אם $f: A \to B$ ביאקציה, אז:

    1. $f^{-1} \circ f = i_A$
    2. $f \circ f^{-1} = i_B$
    3. $(f^{-1})^{-1} = f$
    4. $f^{-1}$ גם היא ביאקציה

!!! abstract "משפט: אפיון הפונקציה ההפוכה"
    $f: A \to B$ היא ביאקציה אם ורק אם קיימת פונקציה $g: B \to A$ כך ש:

    $$g \circ f = i_A \quad \text{וגם} \quad f \circ g = i_B$$

    ואם $g$ כזו קיימת, היא יחידה ושווה ל-$f^{-1}$.

!!! example "דוגמה"
    $f(x) = 2x + 3$ על $\mathbb{R}$:

    - $f$ ביאקציה
    - $f^{-1}(y) = \frac{y - 3}{2}$
    - בדיקה: $(f^{-1} \circ f)(x) = f^{-1}(2x + 3) = \frac{(2x+3) - 3}{2} = x$ ✓

### היפוך הרכבה

!!! abstract "משפט"
    אם $f: A \to B$ ו-$g: B \to C$ ביאקציות, אז $g \circ f$ ביאקציה ו:

    $$(g \circ f)^{-1} = f^{-1} \circ g^{-1}$$

---

## צמצום והרחבה של פונקציות

### צמצום

!!! info "הגדרה: צמצום פונקציה"
    תהי $f: A \to B$ ו-$X \subseteq A$. **הצמצום של $f$ ל-$X$** הוא הפונקציה:

    $$f|_X = \lambda x \in X. f(x)$$

    זו אותה פונקציה, רק עם תחום מצומצם.

!!! note "תכונות"
    - $\text{Dom}(f|_X) = X$
    - $\text{Im}(f|_X) = f[X]$
    - $(f|_X)(x) = f(x)$ לכל $x \in X$

!!! example "דוגמה"
    $f(x) = x^2$ על $\mathbb{R}$:

    - $f|_{\mathbb{R}^+}$ היא $\lambda x \in \mathbb{R}^+. x^2$
    - $f$ לא חח"ע, אבל $f|_{\mathbb{R}^+}$ כן חח"ע!

---

## פונקציות חשובות

### פונקציית הזהות

!!! info "הגדרה"
    $$i_A = \lambda x \in A. x$$

    זו פונקציית שקילות מ-$A$ על $A$.

### פונקציית ההטלה

!!! info "הגדרה"
    עבור $A \times B$, פונקציות ההטלה הן:

    $$\pi_1 = \lambda \langle x, y \rangle \in A \times B. x$$
    $$\pi_2 = \lambda \langle x, y \rangle \in A \times B. y$$

### הפונקציה האופיינית

!!! info "הגדרה"
    תהי $E$ קבוצה ו-$A \subseteq E$. **הפונקציה האופיינית** של $A$ ביחס ל-$E$ היא:

    $$\chi_A^{(E)} = \lambda x \in E. \begin{cases} 1 & x \in A \\ 0 & x \notin A \end{cases}$$

!!! abstract "משפט"
    הפונקציה $H: P(E) \to (E \to \{0, 1\})$ המוגדרת $H(A) = \chi_A^{(E)}$ היא ביאקציה.

    כלומר, יש התאמה חח"ע ועל בין תתי-קבוצות של $E$ לבין פונקציות מ-$E$ ל-$\{0, 1\}$.

---

## טבלת סיכום

| תכונה | הגדרה | דוגמה (כן) | דוגמה (לא) |
|--------|--------|------------|------------|
| חח"ע | $f(x_1) = f(x_2) \Rightarrow x_1 = x_2$ | $f(x) = 2x$ | $f(x) = x^2$ על $\mathbb{R}$ |
| על | $\text{Im}(f) = B$ | $f(x) = x^3$ על $\mathbb{R}$ | $f(x) = e^x$ על $\mathbb{R}$ |
| ביאקציה | חח"ע + על | $f(x) = 2x + 1$ | $f(x) = x^2$ על $\mathbb{R}$ |

---

## טעויות נפוצות

!!! warning "טעות 1: בלבול בין טווח לתמונה"
    - **הטווח** $B$ נקבע בהגדרת הפונקציה
    - **התמונה** $\text{Im}(f)$ היא קבוצת הערכים שבאמת מתקבלים

    דוגמה: $f: \mathbb{R} \to \mathbb{R}$, $f(x) = x^2$

    - הטווח הוא $\mathbb{R}$
    - התמונה היא $[0, \infty)$ בלבד

!!! warning "טעות 2: סדר ההרכבה"
    ב-$g \circ f$ קודם מפעילים את $f$!

    $(g \circ f)(x) = g(f(x))$ - קודם $f$, אחר כך $g$

!!! warning "טעות 3: פונקציה הפוכה לא תמיד קיימת"
    $f^{-1}$ קיימת **רק אם** $f$ ביאקציה.

    לא כל פונקציה הפיכה!

!!! warning "טעות 4: בלבול בין $f^{-1}$ לבין $f^{-1}[Y]$"
    - $f^{-1}$ - הפונקציה ההפוכה (קיימת רק לביאקציות)
    - $f^{-1}[Y]$ - מקור הקבוצה $Y$ (קיים תמיד)

---

## מקורות

!!! note "מקורות היחידה"
    - ספר הקורס (פרופ' אברון): פרק ב.4 - פונקציות
    - תרגולים 5, 6, 7 - פונקציות, חח"ע ועל, הרכבה והופכית
    - דף נוסחאות מורחב
