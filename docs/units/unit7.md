# יחידה 7: הרכבת פונקציות ופונקציה הפוכה

## הרכבת פונקציות

### הגדרה

!!! info "הגדרה: הרכבת פונקציות"
    תהיינה $f: A \to B$ ו-$g: B \to C$. **ההרכבה** $g \circ f$ היא פונקציה מ-$A$ ל-$C$ המוגדרת:

    $$(g \circ f)(x) = g(f(x))$$

    או בסימון למבדא:

    $$g \circ f = \lambda x \in A. g(f(x))$$

!!! warning "סדר ההרכבה"
    ב-$g \circ f$:

    - **קודם** מפעילים את $f$
    - **אחר כך** מפעילים את $g$

    זה הפוך מסדר הכתיבה!

!!! example "דוגמה"
    $f(x) = x^2$, $g(x) = x + 1$ על $\mathbb{R}$:

    - $(g \circ f)(x) = g(f(x)) = g(x^2) = x^2 + 1$
    - $(f \circ g)(x) = f(g(x)) = f(x+1) = (x+1)^2$

    שימו לב: $g \circ f \neq f \circ g$

### תכונות ההרכבה

!!! abstract "משפט: תכונות הרכבת פונקציות"
    1. **אסוציאטיביות**: $(h \circ g) \circ f = h \circ (g \circ f)$

    2. **פונקציית הזהות**: $f \circ i_A = f = i_B \circ f$ עבור $f: A \to B$

       כאשר $i_A = \lambda x \in A. x$ היא פונקציית הזהות.

    3. **אי-קומוטטיביות**: בדרך כלל $f \circ g \neq g \circ f$

!!! info "הגדרה: חזקות של פונקציה"
    עבור $f: A \to A$:

    - $f^0 = i_A$
    - $f^1 = f$
    - $f^{n+1} = f \circ f^n$

    מתקיים: $f^m \circ f^n = f^{m+n}$

---

## פונקציה הפוכה

### הגדרה

!!! info "הגדרה: פונקציה הפוכה"
    תהי $f: A \to B$ ביאקציה. **הפונקציה ההפוכה** $f^{-1}: B \to A$ מוגדרת:

    $$f^{-1}(y) = x \iff f(x) = y$$

    או בסימון למבדא:

    $$f^{-1} = \lambda y \in B. \iota x \in A. f(x) = y$$

!!! warning "קיום פונקציה הפוכה"
    פונקציה הפוכה $f^{-1}$ קיימת **אם ורק אם** $f$ היא ביאקציה.

    - אם $f$ לא חח"ע: יש $y$ עם כמה מקורות - מי יהיה $f^{-1}(y)$?
    - אם $f$ לא על: יש $y$ בלי מקור - מה יהיה $f^{-1}(y)$?

### תכונות

!!! abstract "משפט: תכונות הפונקציה ההפוכה"
    אם $f: A \to B$ ביאקציה, אז:

    1. $f^{-1} \circ f = i_A$
    2. $f \circ f^{-1} = i_B$
    3. $(f^{-1})^{-1} = f$
    4. $f^{-1}$ גם היא ביאקציה

!!! abstract "משפט: אפיון הפונקציה ההפוכה"
    $f: A \to B$ היא ביאקציה אם ורק אם קיימת פונקציה $g: B \to A$ כך ש:

    $$g \circ f = i_A \quad \text{וגם} \quad f \circ g = i_B$$

    ואם $g$ כזו קיימת, היא יחידה ושווה ל-$f^{-1}$.

!!! example "דוגמה"
    $f(x) = 2x + 3$ על $\mathbb{R}$:

    - $f$ ביאקציה
    - $f^{-1}(y) = \frac{y - 3}{2}$
    - בדיקה: $(f^{-1} \circ f)(x) = f^{-1}(2x + 3) = \frac{(2x+3) - 3}{2} = x$ ✓

### היפוך הרכבה

!!! abstract "משפט: היפוך הרכבה"
    אם $f: A \to B$ ו-$g: B \to C$ ביאקציות, אז $g \circ f$ ביאקציה ו:

    $$(g \circ f)^{-1} = f^{-1} \circ g^{-1}$$

**הוכחה:** נבדוק:
$$(f^{-1} \circ g^{-1}) \circ (g \circ f) = f^{-1} \circ (g^{-1} \circ g) \circ f = f^{-1} \circ i_B \circ f = f^{-1} \circ f = i_A$$

באופן דומה: $(g \circ f) \circ (f^{-1} \circ g^{-1}) = i_C$. ∎

---

## צמצום והרחבה של פונקציות

### צמצום

!!! info "הגדרה: צמצום פונקציה"
    תהי $f: A \to B$ ו-$X \subseteq A$. **הצמצום של $f$ ל-$X$** הוא הפונקציה:

    $$f|_X = \lambda x \in X. f(x)$$

    זו אותה פונקציה, רק עם תחום מצומצם.

!!! note "תכונות"
    - $\text{Dom}(f|_X) = X$
    - $\text{Im}(f|_X) = f[X]$
    - $(f|_X)(x) = f(x)$ לכל $x \in X$

!!! example "דוגמה"
    $f(x) = x^2$ על $\mathbb{R}$:

    - $f|_{\mathbb{R}^+}$ היא $\lambda x \in \mathbb{R}^+. x^2$
    - $f$ לא חח"ע, אבל $f|_{\mathbb{R}^+}$ כן חח"ע!

### הרחבה

!!! info "הגדרה: הרחבה"
    $g: B \to C$ היא **הרחבה** של $f: A \to C$ אם $A \subseteq B$ ו-$g|_A = f$.

---

## מקור ותמונה של קבוצות

### תמונה של קבוצה

!!! info "הגדרה: תמונה של קבוצה"
    תהי $f: A \to B$ ו-$X \subseteq A$. **התמונה של $X$ תחת $f$** היא:

    $$f[X] = \{f(x) \mid x \in X\}$$

### מקור של קבוצה

!!! info "הגדרה: מקור של קבוצה"
    תהי $f: A \to B$ ו-$Y \subseteq B$. **המקור של $Y$ לפי $f$** הוא:

    $$f^{-1}[Y] = \{x \in A \mid f(x) \in Y\}$$

!!! warning "הבחנה חשובה"
    - $f^{-1}$ - הפונקציה ההפוכה (קיימת רק לביאקציות)
    - $f^{-1}[Y]$ - מקור הקבוצה $Y$ (קיים **תמיד**)

!!! abstract "תכונות"
    1. $f[f^{-1}[Y]] \subseteq Y$
    2. $X \subseteq f^{-1}[f[X]]$
    3. $f[X_1 \cup X_2] = f[X_1] \cup f[X_2]$
    4. $f^{-1}[Y_1 \cup Y_2] = f^{-1}[Y_1] \cup f^{-1}[Y_2]$
    5. $f^{-1}[Y_1 \cap Y_2] = f^{-1}[Y_1] \cap f^{-1}[Y_2]$

---

## פונקציות חשובות

### פונקציית הזהות

!!! info "הגדרה"
    $$i_A = \lambda x \in A. x$$

    זו פונקציית שקילות מ-$A$ על $A$.

### פונקציית ההטלה

!!! info "הגדרה"
    עבור $A \times B$, פונקציות ההטלה הן:

    $$\pi_1 = \lambda \langle x, y \rangle \in A \times B. x$$
    $$\pi_2 = \lambda \langle x, y \rangle \in A \times B. y$$

### הפונקציה האופיינית

!!! info "הגדרה"
    תהי $E$ קבוצה ו-$A \subseteq E$. **הפונקציה האופיינית** של $A$:

    $$\chi_A = \lambda x \in E. \begin{cases} 1 & x \in A \\ 0 & x \notin A \end{cases}$$

!!! abstract "משפט: התאמה עם קבוצת החזקה"
    הפונקציה $H: \mathcal{P}(E) \to (E \to \{0, 1\})$ המוגדרת $H(A) = \chi_A$ היא **ביאקציה**.

---

## טעויות נפוצות

!!! warning "טעות 1: סדר ההרכבה"
    ב-$g \circ f$ קודם מפעילים את $f$!

    $(g \circ f)(x) = g(f(x))$ - קודם $f$, אחר כך $g$

!!! warning "טעות 2: פונקציה הפוכה לא תמיד קיימת"
    $f^{-1}$ קיימת **רק אם** $f$ ביאקציה.

!!! warning "טעות 3: בלבול בין $f^{-1}$ לבין $f^{-1}[Y]$"
    - $f^{-1}$ - הפונקציה ההפוכה (קיימת רק לביאקציות)
    - $f^{-1}[Y]$ - מקור הקבוצה $Y$ (קיים תמיד)

---

## תרגילים

!!! example "תרגיל 1"
    נתונות $f: \mathbb{R} \to \mathbb{R}$, $f(x) = 2x - 1$ ו-$g: \mathbb{R} \to \mathbb{R}$, $g(x) = x^2$.
    חשבו את $(g \circ f)^{-1}$ אם קיימת, או הסבירו למה לא.

!!! example "תרגיל 2"
    הוכיחו: $f[X_1 \cap X_2] \subseteq f[X_1] \cap f[X_2]$. תנו דוגמה להכלה ממש.

!!! example "תרגיל 3"
    תהי $f: A \to B$. הוכיחו: $f$ חח"ע אמ"מ $f[X_1 \cap X_2] = f[X_1] \cap f[X_2]$ לכל $X_1, X_2 \subseteq A$.

---

## מקורות

!!! note "מקורות היחידה"
    - ספר הקורס (פרופ' אברון): פרק ב.4 - פונקציות
    - תרגול 7 - הרכבת פונקציות ופונקציה הפוכה
